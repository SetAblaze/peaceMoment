(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e,t,a){e.exports={App:"App_App__V8z6R",bg:"App_bg__2mUL-",activeBg:"App_activeBg__2G_cI","bg-overlay":"App_bg-overlay__L6p4q",main:"App_main__1id1b","player-options":"App_player-options__107lU",middleWrap:"App_middleWrap__3mkVx",audioSeek:"App_audioSeek__2bj2O",resetIcon:"App_resetIcon__3WYLU",playPauseBtn:"App_playPauseBtn__15Grg",playMode:"App_playMode__qqNef",pauseMode:"App_pauseMode__1mNvO",playIcon:"App_playIcon__2QdLS",pauseIcon:"App_pauseIcon__27yE1",timerWrap:"App_timerWrap__369eJ",timer:"App_timer__3c4zh",min:"App_min__1SFW1",sec:"App_sec__3-Jko","volume-control":"App_volume-control__53CEy","volume-slider":"App_volume-slider__9FhF-","volume-icon":"App_volume-icon__1SsnE"}},20:function(e,t,a){e.exports=a(35)},25:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(11),o=a.n(r),c=(a(25),a(17)),i=a(7),u=a.n(i),l=a(12),p=a(3),m=a(4),d=a.n(m),g=(a(33),a(1)),b=a.n(g),v=a(13),_=a(14),f=a(18),y=a(15),j=a(19),O=a(6),E=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(f.a)(this,Object(y.a)(t).call(this,e))).handleSongPlaying=a.handleSongPlaying.bind(Object(O.a)(Object(O.a)(a))),a.reset=a.reset.bind(Object(O.a)(Object(O.a)(a))),a.state={position:0,loopCount:0},a}return Object(j.a)(t,e),Object(_.a)(t,[{key:"handleSongPlaying",value:function(e){var t=e.position,a=e.duration;this.setState({position:t});var n=t+this.state.loopCount*a,s=Math.floor(n/6e4),r=Math.floor(n/1e3%60);s=("0"+s).slice(-2),r=("0"+r).slice(-2),this.setTimerValues(s,r),this.props.funcPerc(n/1e3)}},{key:"reset",value:function(){this.setState({position:0}),this.setTimerValues("00","00")}},{key:"setTimerValues",value:function(e,t){var a=document.getElementById("timer-min"),n=document.getElementById("timer-sec");a.innerHTML="".concat(e),n.innerHTML="".concat(t)}},{key:"render",value:function(){var e=this;return s.a.createElement(d.a,{url:this.props.url,playStatus:this.props.playStatus,onPlaying:this.handleSongPlaying,onFinishedPlaying:function(){return e.setState({loopCount:e.state.loopCount+1,position:0})},onStop:function(){return e.setState({loopCount:0,position:0})},position:this.state.position,volume:this.props.volume})}}]),t}(n.Component);var k=function(e){var t=e.currentImage,a=function(e){var a=b.a.bg+" ";return t===e&&(a+=b.a.activeBg),a};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:a("img/rain.jpg"),style:{backgroundImage:'url("img/rain.jpg")'}}),s.a.createElement("div",{className:a("img/forest.jpg"),style:{backgroundImage:"url(img/forest.jpg)"}}),s.a.createElement("div",{className:a("img/park.jpg"),style:{backgroundImage:"url(img/park.jpg)"}}),s.a.createElement("div",{className:a("img/stream.jpg"),style:{backgroundImage:"url(img/stream.jpg)"}}),s.a.createElement("div",{className:a("img/waves.jpg"),style:{backgroundImage:"url(img/waves.jpg)"}}))};var S=function(e){var t=e.alt,a=void 0===t?"":t,n=e.handleOnClick;return s.a.createElement("img",Object.assign({alt:a,onClick:function(){return n()}},e))},h=a(16),N={root:{},path:{stroke:"#0086ffcc",strokeLinecap:"butt",transition:"stroke-dashoffset 0.5s ease 0s"},trail:{stroke:"#ffffffcc"},text:{fill:"#f88",fontSize:"30px"}};var A=function(e){var t=e.percentage,a=e.text,n=e.strokeWidth,r=void 0===n?3:n;return s.a.createElement(h.a,{percentage:t,text:a,strokeWidth:r,styles:N})},P=a(8),w=a.n(P);var I=function(e){var t=e.value;return s.a.createElement("div",{className:w.a.range},s.a.createElement("div",{className:w.a.sliderBg,style:{width:"".concat(t,"%")}}),s.a.createElement("input",Object.assign({type:"range"},e)))},M="svg/play.svg",T="svg/pause.svg",x="svg/reset.svg",L="svg/arrow.svg",C="audio/\u0434\u043e\u0436\u0434\u044c.mp3",W="audio/\u043b\u0435\u0441.mp3",D="audio/\u043f\u0430\u0440\u043a.mp3",B="audio/\u0440\u0443\u0447\u0435\u0439.mp3",U="audio/\u0432\u043e\u043b\u043d\u044b.mp3",R="svg/volume-2.svg",F="svg/volume-1.svg",V="svg/volume-x.svg",G="img/rain.jpg",Y="img/forest.jpg",J="img/park.jpg",q="img/stream.jpg",z="img/waves.jpg",H=a(5),K=a.n(H);var Q=function(e){var t=e.duration,a=e.setDuration,r=e.min,o=e.max,c=Object(n.useRef)(null),i=Object(n.useRef)(null),u=function(e){switch(e){case 1:e=2;break;case 2:e=5;break;case 5:e=10;break;case 10:e=15}return e};return s.a.createElement("div",Object.assign({className:K.a.root},e),s.a.createElement("div",{className:K.a.main},s.a.createElement("span",{className:K.a.buttonWrap},s.a.createElement("img",{className:K.a.increase,src:L,alt:"inc",onMouseDown:function(){t+1<=o&&a(t+1),function e(t,n){var s=n+t;s<=o?c.current=setTimeout(function(){a(s),e(u(t),s)},450):n+1<=o&&(s=n+(t=1),c.current=setTimeout(function(){a(s),e(u(t),s)},450))}(1,t)},onMouseUp:function(){return clearTimeout(c.current)},onMouseLeave:function(){return clearTimeout(c.current)}})),s.a.createElement("input",{className:K.a.display,type:"number",value:t}),s.a.createElement("span",{className:K.a.buttonWrap},s.a.createElement("img",{className:K.a.decrease,src:L,alt:"dec",onMouseDown:function(){t-1>=r&&a(t-1),function e(t,n){var s=n-t;s>=r?i.current=setTimeout(function(){a(s),e(u(t),s)},450):n-1>=r&&(s=n-(t=1),i.current=setTimeout(function(){a(s),e(u(t),s)},450))}(1,t)},onMouseUp:function(){return clearTimeout(i.current)},onMouseLeave:function(){return clearTimeout(i.current)}}))),s.a.createElement("p",{className:K.a.minutes},"\u041c\u0438\u043d\u0443\u0442\u044b"))},X=a(9),Z=a.n(X);var $=function(e){var t=e.options,a=e.activeOption,n=e.changeOption;return s.a.createElement("li",Object.assign({className:Z.a.drop},e),a,s.a.createElement("ul",null,t.map(function(e,t){return e=e.toLowerCase(),s.a.createElement("li",{key:e+t,className:a===Z.a.activeOption,onClick:function(){return n(e)}},e)})))},ee=a(37),te=function(e){return Object(ee.a)({getState:e})};var ae=function(){var e=Object(n.useRef)(null),t=Object(n.useState)(M),a=Object(p.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(d.a.status.STOPPED),m=Object(p.a)(i,2),g=m[0],v=m[1],_=Object(n.useState)(0),f=Object(p.a)(_,2),y=f[0],j=f[1],O=Object(n.useState)(C),h=Object(p.a)(O,2),N=h[0],P=h[1],w=Object(n.useState)(G),L=Object(p.a)(w,2),H=L[0],K=L[1],X=Object(n.useState)(120),Z=Object(p.a)(X,2),ee=Z[0],ae=Z[1],ne=Object(n.useState)(100),se=Object(p.a)(ne,2),re=se[0],oe=se[1],ce=Object(n.useState)(!1),ie=Object(p.a)(ce,2),ue=ie[0],le=ie[1],pe=Object(n.useState)(R),me=Object(p.a)(pe,2),de=me[0],ge=me[1],be=Object(n.useState)(1),ve=Object(p.a)(be,2),_e=ve[0],fe=ve[1],ye=Object(n.useState)(""),je=Object(p.a)(ye,2),Oe=je[0],Ee=je[1],ke=Object(n.useState)(1),Se=Object(p.a)(ke,2),he=Se[0],Ne=Se[1],Ae=Object(n.useState)(!1),Pe=Object(p.a)(Ae,2),we=Pe[0],Ie=Pe[1],Me=Object(n.useState)(!1),Te=Object(p.a)(Me,2),xe=Te[0],Le=Te[1],Ce=Object(n.useReducer)(),We=Object(p.a)(Ce,2),De=We[0],Be=(We[1],Object(n.useRef)()),Ue={minutes:[]};Object(n.useEffect)(function(){Be.current=te(function(){return function(){console.log("getStateForAssistant: this.state:",Ue);var e={item_selector:{items:Ue.minutes.map(function(e,t){return{number:t+1,id:e.id,title:e.title}})}};return console.log("getStateForAssistant: state:",Ue),e}()}),Be.current.on("start",function(e){console.log("assistant.on(start)",e)}),Be.current.on("data",function(e){"smart_app_data"==e.type&&(console.log(e),void 0!=e.sub?console.log("Sub",e.sub):void 0!=e.user_id&&console.log("UserId",e.user_id)),console.log("assistant.on(data)",e);var t=e.action;Re(t)})},[De]);var Re=function(){var e=Object(l.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("dispatchAssistantAction",t),!t){e.next=37;break}console.log(t.minutes),e.t0=t.type,e.next="timerUp"===e.t0?6:"timerDown"===e.t0?9:"resetTimer"===e.t0?13:"streamSound"===e.t0?16:"rainSound"===e.t0?20:"forestSound"===e.t0?24:"parkSound"===e.t0?28:"wavesSound"===e.t0?32:36;break;case 6:return console.log("timerUp"),Ve(),e.abrupt("break",37);case 9:return console.log("timerDown"),o(M),v(d.a.status.PAUSED),e.abrupt("break",37);case 13:return console.log("resetTimer"),Ge(),e.abrupt("break",37);case 16:return console.log("streamSound"),P(B),K(q),e.abrupt("break",37);case 20:return console.log("streamSound"),P(C),K(G),e.abrupt("break",37);case 24:return console.log("forestSound"),P(W),K(Y),e.abrupt("break",37);case 28:return console.log("parkSound"),P(D),K(J),e.abrupt("break",37);case 32:return console.log("wavesSound"),P(U),K(z),e.abrupt("break",37);case 36:return e.abrupt("break",37);case 37:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Fe=["\u0434\u043e\u0436\u0434\u044c","\u043b\u0435\u0441","\u043f\u0430\u0440\u043a","\u0440\u0443\u0447\u0435\u0439","\u0432\u043e\u043b\u043d\u044b"],Ve=function(){[d.a.status.STOPPED,d.a.status.PAUSED].includes(g)?(o(T),v(d.a.status.PLAYING)):g===d.a.status.PLAYING&&(o(M),v(d.a.status.PAUSED)),r===M?(fe(0),Ne(.6),Ee("opacity 10s ease-out")):(fe(1),Ne(1),Ee("opacity 0s"))},Ge=function(){e.current&&e.current.reset(),j(0),o(M),v(d.a.status.STOPPED)},Ye=function(){Ie(!we)},Je=function(){Le(!xe)},qe={opacity:_e,transition:Oe},ze={opacity:he,transition:Oe},He=N.replace("audio/","").replace(".mp3","").toLowerCase(),Ke=![d.a.status.PLAYING,d.a.status.PAUSED].includes(g);return s.a.createElement("div",{className:b.a.App,onMouseMove:function(e){fe(1),Ee("opacity 0s"),Ne(1),setTimeout(function(){y<100&&r===T&&(fe(0),Ee("opacity 10s ease-out"),Ne(.6))},3e3)}},s.a.createElement("div",{className:b.a["bg-overlay"]}),s.a.createElement(k,{currentImage:H}),s.a.createElement("main",{className:b.a.main},s.a.createElement("div",{className:b.a["player-options"]},s.a.createElement(Q,{min:1,max:120,setDuration:function(e){ae(60*e)},duration:ee/60,style:xe?null:qe,onMouseEnter:Je.bind(this),onMouseLeave:Je.bind(this)}),s.a.createElement($,{options:Fe,style:we?null:qe,activeOption:He,changeOption:function(e){!function(e){switch(e){case Fe[1]:P(W),K(Y);break;case Fe[2]:P(D),K(J);break;case Fe[3]:P(B),K(q);break;case Fe[4]:P(U),K(z);break;default:P(C),K(G)}}(e)},onMouseEnter:Ye.bind(this),onMouseLeave:Ye.bind(this)})),s.a.createElement("div",{className:b.a.middleWrap},s.a.createElement("div",{className:b.a.audioSeek,style:ze},s.a.createElement(A,{id:"seek",percentage:y}),s.a.createElement("div",{style:ze,className:r===M?"".concat(b.a.playPauseBtn," ").concat(b.a.pauseMode):"".concat(b.a.playPauseBtn," ").concat(b.a.playMode),alt:"Play",onClick:Ve.bind(this)},s.a.createElement("img",{className:b.a.pauseIcon,src:T,alt:""}),s.a.createElement("img",{className:b.a.playIcon,src:M,alt:""}))),s.a.createElement("div",{className:b.a.timerWrap},s.a.createElement(S,{className:b.a.resetIcon,src:x,alt:"reset",style:Object(c.a)({},ze,{opacity:Ke?.4:he,transform:Ke&&"none",pointerEvents:Ke&&"none"}),handleOnClick:Ge.bind(this)}),s.a.createElement("div",{className:b.a.timer,style:ze},s.a.createElement("span",{id:"timer-min",className:b.a.min},"00"),s.a.createElement("span",null," : "),s.a.createElement("span",{id:"timer-sec",className:b.a.sec},"00")))),s.a.createElement("div",{className:b.a["volume-control"],style:qe},s.a.createElement(S,{className:b.a["volume-icon"],src:de,handleOnClick:function(){ge(ue?re<=50?F:R:V),le(!ue)}.bind(this),style:qe}),"\xa0",s.a.createElement("div",{className:b.a["volume-slider"],style:qe},s.a.createElement(I,{id:"slider",onChange:function(e){var t=Number(e.target.value);oe(ue?re:t),ge(ue||0===t?V:t<=50?F:R)},step:1,min:0,max:100,value:ue?0:re}))),s.a.createElement(E,{ref:e,playStatus:g,url:N,funcPerc:function(e){j(e/ee*100),Math.floor(e)===ee&&(o(M),v(d.a.status.STOPPED))}.bind(this),desiredT:ee,volume:ue?0:re})))};o.a.render(s.a.createElement(ae,null),document.getElementById("root"))},5:function(e,t,a){e.exports={root:"styled-counter_root__l4i7w",main:"styled-counter_main__1kWb8",buttonWrap:"styled-counter_buttonWrap__2tTYT",increase:"styled-counter_increase__3jLpg",decrease:"styled-counter_decrease__2N4Iw",display:"styled-counter_display__2iRuA",minutes:"styled-counter_minutes__3rgxK"}},8:function(e,t,a){e.exports={range:"styled-slider_range__R2x2i",sliderBg:"styled-slider_sliderBg__36xiv"}},9:function(e,t,a){e.exports={drop:"styled-dropdown_drop__bV9l2",activeOption:"styled-dropdown_activeOption__2rnie"}}},[[20,1,2]]]);
//# sourceMappingURL=main.50da8b00.chunk.js.map